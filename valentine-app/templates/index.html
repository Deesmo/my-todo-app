<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
<title>Happy Valentine's Day Katy ‚ù§Ô∏è</title>
<meta name="theme-color" content="#1a0a1e">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<meta name="apple-mobile-web-app-title" content="For Katy ‚ù§Ô∏è">
<link rel="manifest" href="/static/manifest.json">
<link rel="icon" type="image/x-icon" href="/static/favicon.ico">
<link rel="apple-touch-icon" sizes="180x180" href="/static/apple-touch-icon.png">
<style>
  :root {
    --love-deep: #8b0a3a;
    --love-bright: #e91e63;
    --love-pink: #f48fb1;
    --love-soft: #fce4ec;
    --gold: #ffd700;
    --gold-glow: rgba(255,215,0,.3);
    --glass: rgba(255,255,255,.1);
    --glass-border: rgba(255,255,255,.15);
    --glass-strong: rgba(255,255,255,.15);
    --text: #fff5f8;
    --text-secondary: rgba(255,245,248,.75);
    --text-muted: rgba(255,245,248,.5);
    --radius: 20px;
    --radius-sm: 14px;
    --blur: blur(20px);
    --transition: .3s cubic-bezier(.4,0,.2,1);
  }
  *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

  body {
    font-family: -apple-system, BlinkMacSystemFont, "SF Pro Display", "Georgia", serif;
    min-height: 100vh; min-height: 100dvh;
    color: var(--text);
    background: #1a0a1e;
    background: linear-gradient(160deg, #1a0a1e 0%, #2d0a2e 20%, #3d0f3a 40%, #4a1042 55%, #2d0a2e 75%, #1a0a1e 100%);
    background-attachment: fixed;
    -webkit-font-smoothing: antialiased;
    overflow-x: hidden;
    user-select: none; -webkit-user-select: none;
  }

  /* Ambient glow orbs */
  body::before, body::after {
    content: ""; position: fixed; border-radius: 50%; pointer-events: none; z-index: 0;
    filter: blur(100px); opacity: .5;
  }
  body::before {
    width: 500px; height: 500px; top: -150px; right: -150px;
    background: radial-gradient(circle, rgba(233,30,99,.5), transparent 70%);
    animation: orbFloat 18s ease-in-out infinite alternate;
  }
  body::after {
    width: 450px; height: 450px; bottom: -120px; left: -120px;
    background: radial-gradient(circle, rgba(244,143,177,.4), transparent 70%);
    animation: orbFloat 22s ease-in-out infinite alternate-reverse;
  }
  @keyframes orbFloat {
    0% { transform: translate(0,0) scale(1); }
    50% { transform: translate(40px,-30px) scale(1.15); }
    100% { transform: translate(-30px,40px) scale(.9); }
  }

  /* Floating hearts */
  .hearts-container {
    position: fixed; top: 0; left: 0; width: 100%; height: 100%;
    pointer-events: none; z-index: 0; overflow: hidden;
  }
  .heart {
    position: absolute; bottom: -60px;
    font-size: 20px; opacity: 0;
    animation: floatHeart linear infinite;
  }
  @keyframes floatHeart {
    0% { opacity: 0; transform: translateY(0) rotate(0deg) scale(.5); }
    10% { opacity: .7; }
    60% { opacity: .5; }
    100% { opacity: 0; transform: translateY(-105vh) rotate(720deg) scale(1.2); }
  }

  .container {
    max-width: 600px; margin: 0 auto;
    padding: calc(24px + env(safe-area-inset-top)) 16px calc(40px + env(safe-area-inset-bottom));
    position: relative; z-index: 1;
  }

  /* Header */
  .header {
    text-align: center; margin-bottom: 20px; padding: 10px 0;
  }
  .header-heart {
    font-size: 3rem; margin-bottom: 8px;
    display: inline-block;
    animation: heartbeat 1.2s ease-in-out infinite;
    filter: drop-shadow(0 0 20px rgba(233,30,99,.6));
  }
  @keyframes heartbeat {
    0%, 100% { transform: scale(1); }
    15% { transform: scale(1.15); }
    30% { transform: scale(1); }
    45% { transform: scale(1.1); }
  }
  .header-title {
    font-size: 1.8rem; font-weight: 700;
    background: linear-gradient(135deg, #fff, var(--love-pink), var(--gold));
    -webkit-background-clip: text; -webkit-text-fill-color: transparent;
    background-clip: text;
    line-height: 1.3; letter-spacing: -.01em;
  }
  .header-subtitle {
    font-size: .95rem; color: var(--text-secondary);
    margin-top: 6px; font-style: italic;
    font-family: Georgia, "Times New Roman", serif;
  }

  /* Navigation tabs */
  .nav-tabs {
    display: flex; justify-content: center; gap: 4px;
    margin-bottom: 24px; padding: 4px;
    background: var(--glass);
    backdrop-filter: var(--blur); -webkit-backdrop-filter: var(--blur);
    border: 1px solid var(--glass-border);
    border-radius: 16px;
  }
  .nav-tab {
    flex: 1; padding: 10px 16px; border: none; border-radius: 12px;
    background: transparent; color: var(--text-muted);
    font-size: .85rem; font-weight: 600; cursor: pointer;
    transition: var(--transition);
    font-family: -apple-system, BlinkMacSystemFont, "SF Pro Display", sans-serif;
    -webkit-tap-highlight-color: transparent;
  }
  .nav-tab.active {
    background: linear-gradient(135deg, rgba(233,30,99,.4), rgba(244,143,177,.3));
    color: #fff;
    box-shadow: 0 2px 12px rgba(233,30,99,.3);
  }
  .nav-tab:not(.active):hover { color: var(--text-secondary); }

  /* Page sections */
  .page { display: none; }
  .page.active { display: block; animation: fadeInUp .5s ease forwards; }

  /* Glass panel */
  .glass {
    background: var(--glass);
    backdrop-filter: var(--blur); -webkit-backdrop-filter: var(--blur);
    border: 1px solid var(--glass-border);
    border-radius: var(--radius);
    box-shadow: 0 8px 32px rgba(0,0,0,.25), inset 0 1px 0 rgba(255,255,255,.08);
  }

  /* Photo gallery */
  .gallery-section { margin-bottom: 28px; }
  .gallery-label {
    text-align: center; font-size: .8rem; color: var(--text-muted);
    margin-bottom: 10px; letter-spacing: .05em; text-transform: uppercase;
    font-family: -apple-system, BlinkMacSystemFont, "SF Pro Display", sans-serif;
  }
  .gallery {
    position: relative; overflow: hidden; border-radius: var(--radius);
    aspect-ratio: 4/5;
    background: rgba(0,0,0,.3);
    border: 1px solid var(--glass-border);
    box-shadow: 0 12px 40px rgba(0,0,0,.3), inset 0 1px 0 rgba(255,255,255,.05);
    touch-action: pan-y pinch-zoom;
  }
  .gallery-track {
    display: flex; height: 100%;
    transition: transform .4s cubic-bezier(.25,.46,.45,.94);
    will-change: transform;
  }
  .gallery-track.dragging { transition: none; }
  .gallery-slide {
    min-width: 100%; height: 100%;
    display: flex; align-items: center; justify-content: center;
    overflow: hidden;
  }
  .gallery-slide img {
    width: 100%; height: 100%; object-fit: cover;
  }

  /* Gallery dots */
  .gallery-dots {
    display: flex; justify-content: center; gap: 8px;
    margin-top: 14px;
  }
  .gallery-dot {
    width: 8px; height: 8px; border-radius: 50%;
    background: rgba(255,255,255,.25);
    transition: var(--transition);
    cursor: pointer;
  }
  .gallery-dot.active {
    background: var(--love-pink);
    box-shadow: 0 0 10px rgba(233,30,99,.5);
    transform: scale(1.3);
  }

  /* Gallery arrows */
  .gallery-arrow {
    position: absolute; top: 50%; transform: translateY(-50%);
    width: 40px; height: 40px; border-radius: 50%;
    background: rgba(0,0,0,.4); backdrop-filter: blur(10px);
    border: 1px solid rgba(255,255,255,.15);
    color: #fff; font-size: 1.1rem; cursor: pointer;
    display: flex; align-items: center; justify-content: center;
    transition: var(--transition); z-index: 2;
    -webkit-tap-highlight-color: transparent;
  }
  .gallery-arrow:hover { background: rgba(0,0,0,.6); }
  .gallery-arrow.prev { left: 10px; }
  .gallery-arrow.next { right: 10px; }

  /* Music player */
  .music-section { margin-bottom: 28px; }
  .music-player {
    padding: 20px; display: flex; align-items: center; gap: 16px;
  }
  .music-btn {
    width: 56px; height: 56px; border-radius: 50%; border: none; cursor: pointer;
    background: linear-gradient(135deg, var(--love-bright), #c2185b);
    color: #fff; font-size: 1.4rem;
    display: flex; align-items: center; justify-content: center;
    box-shadow: 0 4px 20px rgba(233,30,99,.5);
    transition: var(--transition); flex-shrink: 0;
    -webkit-tap-highlight-color: transparent;
  }
  .music-btn:hover { transform: scale(1.08); box-shadow: 0 6px 28px rgba(233,30,99,.6); }
  .music-btn:active { transform: scale(.95); }
  .music-btn.playing {
    animation: pulseGlow 2s ease-in-out infinite;
  }
  @keyframes pulseGlow {
    0%, 100% { box-shadow: 0 4px 20px rgba(233,30,99,.5); }
    50% { box-shadow: 0 4px 30px rgba(233,30,99,.8), 0 0 40px rgba(233,30,99,.3); }
  }
  .music-info { flex: 1; min-width: 0; }
  .music-title {
    font-size: 1rem; font-weight: 600; color: var(--text);
    white-space: nowrap; overflow: hidden; text-overflow: ellipsis;
  }
  .music-artist {
    font-size: .82rem; color: var(--text-secondary); margin-top: 2px;
  }
  .music-progress {
    margin-top: 10px; height: 3px; border-radius: 3px;
    background: rgba(255,255,255,.12); overflow: hidden;
    cursor: pointer;
  }
  .music-progress-fill {
    height: 100%; border-radius: 3px;
    background: linear-gradient(90deg, var(--love-bright), var(--love-pink));
    transition: width .3s linear; width: 0%;
  }
  .music-note {
    display: inline-block; font-size: .8rem;
    opacity: 0; transition: opacity .3s;
  }
  .music-btn.playing ~ .music-info .music-note { opacity: 1; }
  .music-time {
    font-size: .72rem; color: var(--text-muted); margin-top: 4px;
    display: flex; justify-content: space-between;
    font-family: -apple-system, BlinkMacSystemFont, "SF Pro Display", sans-serif;
  }

  /* Visualizer bars */
  .visualizer {
    display: flex; align-items: flex-end; gap: 2px; height: 20px;
    margin-left: auto; padding-left: 12px;
  }
  .viz-bar {
    width: 3px; border-radius: 2px;
    background: linear-gradient(to top, var(--love-bright), var(--love-pink));
    transition: height .15s ease;
  }
  .viz-bar:nth-child(1) { height: 4px; animation: vizBounce .5s ease-in-out infinite alternate; }
  .viz-bar:nth-child(2) { height: 8px; animation: vizBounce .4s ease-in-out infinite alternate .1s; }
  .viz-bar:nth-child(3) { height: 14px; animation: vizBounce .6s ease-in-out infinite alternate .05s; }
  .viz-bar:nth-child(4) { height: 10px; animation: vizBounce .45s ease-in-out infinite alternate .15s; }
  .viz-bar:nth-child(5) { height: 6px; animation: vizBounce .55s ease-in-out infinite alternate .08s; }
  .visualizer.paused .viz-bar { animation-play-state: paused; height: 3px !important; }
  @keyframes vizBounce {
    0% { height: 3px; }
    100% { height: 18px; }
  }

  /* Love message */
  .message-section { margin-bottom: 28px; }
  .love-message {
    padding: 28px 24px; text-align: center;
    background: linear-gradient(135deg, rgba(233,30,99,.12), rgba(244,143,177,.08));
    border: 1px solid rgba(233,30,99,.2);
  }
  .message-icon { font-size: 2.4rem; margin-bottom: 14px; display: block; }
  .message-text {
    font-size: 1.05rem; line-height: 1.75;
    font-family: Georgia, "Times New Roman", serif;
    color: var(--text);
    letter-spacing: .01em;
  }
  .message-signature {
    margin-top: 20px; font-size: .9rem;
    color: var(--love-pink); font-style: italic;
    font-family: Georgia, "Times New Roman", serif;
  }

  /* Valentine decoration divider */
  .divider {
    text-align: center; margin: 8px 0;
    font-size: .75rem; color: var(--text-muted);
    letter-spacing: 6px;
  }

  /* Footer */
  .footer {
    text-align: center; padding: 20px 0 10px;
    font-size: .75rem; color: var(--text-muted);
    font-family: Georgia, "Times New Roman", serif;
    font-style: italic;
  }

  /* ‚îÄ‚îÄ Poems section ‚îÄ‚îÄ */
  .poem-viewer {
    position: relative; overflow: hidden;
    border-radius: var(--radius);
    background: linear-gradient(135deg, rgba(233,30,99,.08), rgba(139,10,58,.06));
    border: 1px solid rgba(233,30,99,.18);
    backdrop-filter: var(--blur); -webkit-backdrop-filter: var(--blur);
    box-shadow: 0 8px 32px rgba(0,0,0,.25), inset 0 1px 0 rgba(255,255,255,.08);
    min-height: 420px;
    touch-action: pan-y pinch-zoom;
  }
  .poem-track {
    display: flex;
    transition: transform .45s cubic-bezier(.25,.46,.45,.94);
    will-change: transform;
  }
  .poem-track.dragging { transition: none; }
  .poem-page {
    min-width: 100%;
    padding: 32px 24px;
    display: flex; flex-direction: column;
    align-items: center; justify-content: center;
    text-align: center;
  }
  .poem-number {
    font-size: .7rem; text-transform: uppercase; letter-spacing: .12em;
    color: var(--text-muted); margin-bottom: 16px;
    font-family: -apple-system, BlinkMacSystemFont, "SF Pro Display", sans-serif;
  }
  .poem-title {
    font-size: 1.3rem; font-weight: 700;
    color: var(--love-pink); margin-bottom: 6px;
    font-family: Georgia, "Times New Roman", serif;
    line-height: 1.3;
  }
  .poem-author {
    font-size: .82rem; color: var(--text-muted);
    font-style: italic; margin-bottom: 24px;
    font-family: Georgia, "Times New Roman", serif;
  }
  .poem-body {
    font-family: Georgia, "Times New Roman", serif;
    font-size: .95rem; line-height: 1.85;
    color: var(--text-secondary);
    white-space: pre-line;
    max-width: 380px;
  }
  .poem-body .stanza { margin-bottom: 16px; display: block; }
  .poem-body .stanza:last-child { margin-bottom: 0; }

  /* Poem navigation */
  .poem-nav {
    display: flex; align-items: center; justify-content: center;
    gap: 16px; margin-top: 18px;
  }
  .poem-arrow {
    width: 40px; height: 40px; border-radius: 50%;
    background: var(--glass);
    backdrop-filter: var(--blur); -webkit-backdrop-filter: var(--blur);
    border: 1px solid var(--glass-border);
    color: #fff; font-size: 1.1rem; cursor: pointer;
    display: flex; align-items: center; justify-content: center;
    transition: var(--transition);
    -webkit-tap-highlight-color: transparent;
  }
  .poem-arrow:hover { background: rgba(255,255,255,.18); }
  .poem-arrow:active { transform: scale(.92); }
  .poem-arrow:disabled { opacity: .3; pointer-events: none; }
  .poem-counter {
    font-size: .8rem; color: var(--text-muted);
    font-family: -apple-system, BlinkMacSystemFont, "SF Pro Display", sans-serif;
    min-width: 50px; text-align: center;
  }

  /* Poem dots */
  .poem-dots {
    display: flex; justify-content: center; gap: 6px;
    margin-top: 12px; flex-wrap: wrap;
  }
  .poem-dot {
    width: 6px; height: 6px; border-radius: 50%;
    background: rgba(255,255,255,.2);
    transition: var(--transition);
    cursor: pointer;
  }
  .poem-dot.active {
    background: var(--love-pink);
    box-shadow: 0 0 8px rgba(233,30,99,.4);
    transform: scale(1.4);
  }

  /* Tap-to-play overlay */
  .tap-overlay {
    position: fixed; top: 0; left: 0; width: 100%; height: 100%;
    background: rgba(10,5,15,.85);
    backdrop-filter: blur(30px); -webkit-backdrop-filter: blur(30px);
    z-index: 9999; display: flex; align-items: center; justify-content: center;
    cursor: pointer; -webkit-tap-highlight-color: transparent;
    transition: opacity .6s ease, visibility .6s ease;
  }
  .tap-overlay.hidden { opacity: 0; visibility: hidden; pointer-events: none; }
  .tap-content { text-align: center; }
  .tap-heart {
    font-size: 5rem; margin-bottom: 16px;
    animation: heartbeat 1.2s ease-in-out infinite;
    filter: drop-shadow(0 0 30px rgba(233,30,99,.6));
  }
  .tap-text {
    font-size: 1.3rem; font-weight: 600; color: #fff;
    margin-bottom: 8px; letter-spacing: .02em;
  }
  .tap-sub {
    font-size: .9rem; color: var(--love-pink);
    font-family: Georgia, "Times New Roman", serif;
    font-style: italic;
  }

  /* Animations */
  @keyframes fadeInUp {
    from { opacity: 0; transform: translateY(30px); }
    to { opacity: 1; transform: translateY(0); }
  }
  .fade-in {
    opacity: 0;
    animation: fadeInUp .8s cubic-bezier(.4,0,.2,1) forwards;
  }
  .fade-in-1 { animation-delay: .1s; }
  .fade-in-2 { animation-delay: .3s; }
  .fade-in-3 { animation-delay: .5s; }
  .fade-in-4 { animation-delay: .7s; }

  /* Sparkle overlay on gallery */
  .sparkle-overlay {
    position: absolute; top: 0; left: 0; width: 100%; height: 100%;
    pointer-events: none; z-index: 1;
    background: radial-gradient(ellipse at 30% 20%, rgba(255,215,0,.08) 0%, transparent 50%),
                radial-gradient(ellipse at 70% 80%, rgba(255,255,255,.05) 0%, transparent 50%);
  }

  /* ‚îÄ‚îÄ Coupons section ‚îÄ‚îÄ */
  .coupon-card {
    display: flex; align-items: center; gap: 16px;
    padding: 20px; margin-bottom: 14px;
    cursor: pointer;
    transition: var(--transition);
    position: relative; overflow: hidden;
    -webkit-tap-highlight-color: transparent;
  }
  .coupon-card:active { transform: scale(.97); }
  .coupon-check {
    width: 36px; height: 36px; border-radius: 50%; flex-shrink: 0;
    border: 2px solid var(--love-pink);
    display: flex; align-items: center; justify-content: center;
    transition: var(--transition);
    color: transparent;
  }
  .coupon-check svg { width: 20px; height: 20px; }
  .coupon-card.redeemed .coupon-check {
    background: linear-gradient(135deg, var(--love-bright), #c2185b);
    border-color: var(--love-bright);
    color: #fff;
  }
  .coupon-body { flex: 1; min-width: 0; }
  .coupon-emoji { font-size: 1.6rem; margin-bottom: 4px; }
  .coupon-title {
    font-size: 1rem; font-weight: 700; color: var(--text);
    line-height: 1.3; margin-bottom: 4px;
  }
  .coupon-desc {
    font-size: .82rem; color: var(--text-secondary);
    line-height: 1.5;
    font-family: Georgia, "Times New Roman", serif;
  }
  .coupon-redeemed-badge {
    position: absolute; top: 12px; right: -32px;
    background: linear-gradient(135deg, var(--love-bright), #c2185b);
    color: #fff; font-size: .65rem; font-weight: 700;
    padding: 4px 36px;
    transform: rotate(35deg);
    text-transform: uppercase; letter-spacing: .06em;
    opacity: 0; transition: opacity .3s ease;
    pointer-events: none;
  }
  .coupon-card.redeemed .coupon-redeemed-badge { opacity: 1; }
  .coupon-card.redeemed .coupon-title {
    text-decoration: line-through;
    color: var(--text-muted);
  }
  .coupon-card.redeemed .coupon-desc {
    color: var(--text-muted);
  }
  .coupon-fine-print {
    text-align: center; font-size: .72rem;
    color: var(--text-muted); margin-top: 8px;
    font-family: Georgia, "Times New Roman", serif;
    font-style: italic;
  }

  /* ‚îÄ‚îÄ Scavenger Hunt section ‚îÄ‚îÄ */
  .hunt-intro {
    text-align: center; padding: 24px 20px; margin-bottom: 16px;
    background: linear-gradient(135deg, rgba(233,30,99,.10), rgba(255,215,0,.06));
    border: 1px solid rgba(233,30,99,.18);
  }
  .hunt-intro-icon { font-size: 2.2rem; margin-bottom: 10px; display: block; }
  .hunt-intro-text {
    font-size: .92rem; line-height: 1.7; color: var(--text-secondary);
    font-family: Georgia, "Times New Roman", serif;
  }
  .hunt-progress {
    text-align: center; margin-bottom: 18px;
    font-size: .78rem; color: var(--text-muted);
    letter-spacing: .05em; text-transform: uppercase;
    font-family: -apple-system, BlinkMacSystemFont, "SF Pro Display", sans-serif;
  }
  .hunt-progress-bar {
    height: 4px; border-radius: 4px; margin: 8px auto 0;
    max-width: 240px;
    background: rgba(255,255,255,.08);
    overflow: hidden;
  }
  .hunt-progress-fill {
    height: 100%; border-radius: 4px;
    background: linear-gradient(90deg, var(--love-bright), var(--gold));
    transition: width .5s cubic-bezier(.4,0,.2,1);
    width: 0%;
  }
  .hunt-clue {
    display: flex; align-items: flex-start; gap: 14px;
    padding: 18px; margin-bottom: 12px;
    cursor: pointer;
    transition: var(--transition);
    position: relative; overflow: hidden;
    -webkit-tap-highlight-color: transparent;
  }
  .hunt-clue.locked {
    opacity: .35; pointer-events: none;
    filter: blur(1px);
  }
  .hunt-clue.locked .hunt-clue-text {
    -webkit-user-select: none; user-select: none;
  }
  .hunt-clue:not(.locked):active { transform: scale(.97); }
  .hunt-clue-check {
    width: 32px; height: 32px; border-radius: 50%; flex-shrink: 0;
    border: 2px solid var(--gold);
    display: flex; align-items: center; justify-content: center;
    transition: var(--transition);
    color: transparent; margin-top: 2px;
  }
  .hunt-clue-check svg { width: 18px; height: 18px; }
  .hunt-clue.solved .hunt-clue-check {
    background: linear-gradient(135deg, var(--gold), #ffb300);
    border-color: var(--gold);
    color: #1a0a1e;
    box-shadow: 0 0 12px var(--gold-glow);
  }
  .hunt-clue-body { flex: 1; min-width: 0; }
  .hunt-clue-number {
    font-size: .7rem; text-transform: uppercase; letter-spacing: .1em;
    color: var(--gold); margin-bottom: 6px;
    font-family: -apple-system, BlinkMacSystemFont, "SF Pro Display", sans-serif;
    font-weight: 600;
  }
  .hunt-clue.solved .hunt-clue-number { color: var(--text-muted); }
  .hunt-clue-text {
    font-size: .88rem; line-height: 1.7; color: var(--text);
    font-family: Georgia, "Times New Roman", serif;
    font-style: italic;
  }
  .hunt-clue.solved .hunt-clue-text {
    color: var(--text-muted);
  }
  .hunt-clue-lock {
    font-size: 1.1rem; margin-top: 2px; flex-shrink: 0;
  }
  .hunt-complete {
    text-align: center; padding: 28px 20px; margin-top: 4px;
    background: linear-gradient(135deg, rgba(255,215,0,.12), rgba(233,30,99,.08));
    border: 1px solid rgba(255,215,0,.25);
    display: none;
  }
  .hunt-complete.visible { display: block; animation: fadeInUp .6s ease forwards; }
  .hunt-complete-icon { font-size: 2.8rem; margin-bottom: 12px; display: block; }
  .hunt-complete-title {
    font-size: 1.15rem; font-weight: 700; color: var(--gold);
    margin-bottom: 8px;
    font-family: Georgia, "Times New Roman", serif;
  }
  .hunt-complete-text {
    font-size: .95rem; color: var(--text-secondary); line-height: 1.6;
    font-family: Georgia, "Times New Roman", serif;
  }

  /* Touch feedback */
  @media (hover: none) {
    .gallery-arrow { width: 36px; height: 36px; font-size: 1rem; }
    .music-btn:hover { transform: none; }
    .music-btn:active { transform: scale(.92); }
  }
  @media (max-width: 480px) {
    .container { padding: calc(16px + env(safe-area-inset-top)) 12px calc(30px + env(safe-area-inset-bottom)); }
    .header-title { font-size: 1.5rem; }
    .love-message { padding: 22px 18px; }
    .message-text { font-size: .95rem; }
    .music-player { padding: 16px; gap: 12px; }
    .music-btn { width: 48px; height: 48px; font-size: 1.2rem; }
    .poem-page { padding: 24px 16px; }
    .poem-title { font-size: 1.15rem; }
    .poem-body { font-size: .88rem; }
  }

  /* ‚îÄ‚îÄ Daily Reminder popup ‚îÄ‚îÄ */
  .daily-overlay {
    position: fixed; top: 0; left: 0; width: 100%; height: 100%;
    background: rgba(10,5,15,.8);
    backdrop-filter: blur(20px); -webkit-backdrop-filter: blur(20px);
    z-index: 9998; display: flex; align-items: center; justify-content: center;
    padding: 24px;
    opacity: 0; visibility: hidden;
    transition: opacity .5s ease, visibility .5s ease;
  }
  .daily-overlay.visible { opacity: 1; visibility: visible; }
  .daily-card {
    max-width: 360px; width: 100%; padding: 36px 28px;
    text-align: center;
    background: linear-gradient(135deg, rgba(233,30,99,.15), rgba(244,143,177,.08));
    border: 1px solid rgba(233,30,99,.25);
    border-radius: var(--radius);
    backdrop-filter: var(--blur); -webkit-backdrop-filter: var(--blur);
    box-shadow: 0 16px 48px rgba(0,0,0,.4), inset 0 1px 0 rgba(255,255,255,.1);
    animation: fadeInUp .6s ease .2s both;
  }
  .daily-icon { font-size: 3rem; margin-bottom: 16px; display: block; }
  .daily-text {
    font-size: 1.1rem; line-height: 1.8; color: var(--text);
    font-family: Georgia, "Times New Roman", serif;
    font-style: italic;
  }
  .daily-dismiss {
    margin-top: 24px; padding: 12px 32px;
    border: 1px solid rgba(233,30,99,.3); border-radius: 30px;
    background: linear-gradient(135deg, rgba(233,30,99,.25), rgba(244,143,177,.15));
    color: var(--love-pink); font-size: .88rem; font-weight: 600;
    cursor: pointer; transition: var(--transition);
    font-family: -apple-system, BlinkMacSystemFont, "SF Pro Display", sans-serif;
    -webkit-tap-highlight-color: transparent;
  }
  .daily-dismiss:hover { background: linear-gradient(135deg, rgba(233,30,99,.35), rgba(244,143,177,.25)); }
  .daily-dismiss:active { transform: scale(.95); }
</style>
</head>
<body>

<!-- Floating hearts background -->
<div class="hearts-container" id="heartsContainer"></div>

<div class="container">

  <!-- Header -->
  <div class="header fade-in fade-in-1">
    <div class="header-heart">üíù</div>
    <h1 class="header-title">For My Beautiful Katy ‚ù§Ô∏è</h1>
    <p class="header-subtitle">Happy Valentine's Day 2026</p>
  </div>

  <!-- Navigation -->
  <div class="nav-tabs fade-in fade-in-1" id="navTabs">
    <button class="nav-tab active" onclick="showPage('home')">Home</button>
    <button class="nav-tab" onclick="showPage('sexy')">Sexy</button>
    <button class="nav-tab" onclick="showPage('coupons')">Coupons</button>
    <button class="nav-tab" onclick="showPage('hunt')">Hunt</button>
    <button class="nav-tab" onclick="showPage('poems')">Poems</button>
  </div>

  <!-- ‚ïê‚ïê‚ïê‚ïê HOME PAGE ‚ïê‚ïê‚ïê‚ïê -->
  <div class="page active" id="page-home">

    <!-- Photo Gallery -->
    <div class="gallery-section">
      <div class="gallery-label">‚ú® Our Beautiful Family ‚ú®</div>
      <div class="gallery glass" id="gallery">
        <div class="gallery-track" id="galleryTrack">
          <div class="gallery-slide">
            <img src="/static/photos/photo1.jpg" alt="Brad and Katy embracing">
          </div>
          <div class="gallery-slide">
            <img src="/static/photos/photo2.jpg" alt="The whole family together">
          </div>
          <div class="gallery-slide">
            <img src="/static/photos/photo3.jpg" alt="Brad and Katy walking together">
          </div>
          <div class="gallery-slide">
            <img src="/static/photos/photo4.jpg" alt="Family on the front steps">
          </div>
        </div>
        <div class="sparkle-overlay"></div>
        <button class="gallery-arrow prev" onclick="prevSlide()">&#8249;</button>
        <button class="gallery-arrow next" onclick="nextSlide()">&#8250;</button>
      </div>
      <div class="gallery-dots" id="galleryDots">
        <div class="gallery-dot active" onclick="goToSlide(0)"></div>
        <div class="gallery-dot" onclick="goToSlide(1)"></div>
        <div class="gallery-dot" onclick="goToSlide(2)"></div>
        <div class="gallery-dot" onclick="goToSlide(3)"></div>
      </div>
    </div>

    <div class="divider">&#9829; &#9829; &#9829;</div>

    <!-- Music Player -->
    <div class="music-section">
      <div class="music-player glass">
        <button class="music-btn" id="musicBtn" onclick="toggleMusic()">
          <svg id="playIcon" width="22" height="22" viewBox="0 0 24 24" fill="white">
            <polygon points="6,3 20,12 6,21"/>
          </svg>
          <svg id="pauseIcon" width="22" height="22" viewBox="0 0 24 24" fill="white" style="display:none">
            <rect x="5" y="3" width="5" height="18" rx="1"/>
            <rect x="14" y="3" width="5" height="18" rx="1"/>
          </svg>
        </button>
        <div class="music-info">
          <div class="music-title" id="musicTitle">My Home &#8212; Myles Smith <span class="music-note">&#9834;</span></div>
          <div class="music-artist" id="musicArtist">Song 1 of 2 &#128149;</div>
          <div class="music-progress" id="progressBar" onclick="seekMusic(event)">
            <div class="music-progress-fill" id="progressFill"></div>
          </div>
          <div class="music-time">
            <span id="currentTime">0:00</span>
            <span id="totalTime">0:00</span>
          </div>
        </div>
        <div class="visualizer paused" id="visualizer">
          <div class="viz-bar"></div>
          <div class="viz-bar"></div>
          <div class="viz-bar"></div>
          <div class="viz-bar"></div>
          <div class="viz-bar"></div>
        </div>
      </div>
    </div>

    <div class="divider">&#9829; &#9829; &#9829;</div>

    <!-- Love Message -->
    <div class="message-section">
      <div class="love-message glass">
        <span class="message-icon">&#128140;</span>
        <p class="message-text">
          Katy, I love and appreciate you more than words can say.
          Thank you for being the rock of our family and the best mother in the world.
          You make our house a home, and I'm so grateful for everything you do.
          Happy Valentine's Day! &#10084;&#65039;
        </p>
        <p class="message-signature">Forever yours, Brad &#128149;</p>
      </div>
    </div>

    <!-- Footer -->
    <div class="footer">
      Made with &#10084;&#65039; for the love of my life
    </div>

  </div>

  <!-- ‚ïê‚ïê‚ïê‚ïê SEXY PAGE ‚ïê‚ïê‚ïê‚ïê -->
  <div class="page" id="page-sexy">

    <div class="gallery-section">
      <div class="gallery-label">&#128293; You're One Sexy Woman &#128293;</div>
      <div class="gallery glass" id="sexyGallery">
        <div class="gallery-track" id="sexyTrack">
          <div class="gallery-slide">
            <img src="/static/photos/sexy/sexy1.jpg" alt="Katy photo 1">
          </div>
          <div class="gallery-slide">
            <img src="/static/photos/sexy/sexy2.jpg" alt="Katy photo 2">
          </div>
          <div class="gallery-slide">
            <img src="/static/photos/sexy/sexy3.jpg" alt="Katy photo 3">
          </div>
          <div class="gallery-slide">
            <img src="/static/photos/sexy/sexy4.jpg" alt="Katy photo 4">
          </div>
          <div class="gallery-slide">
            <img src="/static/photos/sexy/sexy5.jpg" alt="Katy photo 5">
          </div>
          <div class="gallery-slide">
            <img src="/static/photos/sexy/sexy6.jpg" alt="Katy photo 6">
          </div>
          <div class="gallery-slide">
            <img src="/static/photos/sexy/sexy7.jpg" alt="Katy photo 7">
          </div>
          <div class="gallery-slide">
            <img src="/static/photos/sexy/sexy8.jpg" alt="Katy photo 8">
          </div>
          <div class="gallery-slide">
            <img src="/static/photos/sexy/sexy9.jpg" alt="Katy photo 9">
          </div>
          <div class="gallery-slide">
            <img src="/static/photos/sexy/sexy10.jpg" alt="Katy photo 10">
          </div>
          <div class="gallery-slide">
            <img src="/static/photos/sexy/sexy11.jpg" alt="Katy photo 11">
          </div>
        </div>
        <div class="sparkle-overlay"></div>
        <button class="gallery-arrow prev" onclick="prevSexy()">&#8249;</button>
        <button class="gallery-arrow next" onclick="nextSexy()">&#8250;</button>
      </div>
      <div class="gallery-dots" id="sexyDots"></div>
    </div>

    <div class="message-section">
      <div class="love-message glass">
        <span class="message-icon">&#128293;</span>
        <p class="message-text">
          You are the most beautiful woman in the world, Katy.
          Every day I'm reminded how lucky I am. &#10084;&#65039;
        </p>
      </div>
    </div>

    <div class="footer">
      Made with &#10084;&#65039; for the love of my life
    </div>

  </div>

  <!-- ‚ïê‚ïê‚ïê‚ïê COUPONS PAGE ‚ïê‚ïê‚ïê‚ïê -->
  <div class="page" id="page-coupons">

    <div class="gallery-label">&#127873; Love Coupons &#127873;</div>

    <div class="coupon-card glass" id="coupon-0" onclick="toggleCoupon(0)">
      <div class="coupon-check" id="coupon-check-0">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"><polyline points="20 6 9 17 4 12"/></svg>
      </div>
      <div class="coupon-body">
        <div class="coupon-emoji">&#128134;</div>
        <div class="coupon-title">5-Minute Back Rub</div>
        <div class="coupon-desc">Brad gives Katy a relaxing 5-minute back rub, no questions asked.</div>
      </div>
      <div class="coupon-redeemed-badge">Redeemed</div>
    </div>

    <div class="coupon-card glass" id="coupon-1" onclick="toggleCoupon(1)">
      <div class="coupon-check" id="coupon-check-1">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"><polyline points="20 6 9 17 4 12"/></svg>
      </div>
      <div class="coupon-body">
        <div class="coupon-emoji">&#128064;</div>
        <div class="coupon-title">One Minute of Uninterrupted Eye Contact</div>
        <div class="coupon-desc">Brad and Katy share 1 full minute of deep, uninterrupted eye contact.</div>
      </div>
      <div class="coupon-redeemed-badge">Redeemed</div>
    </div>

    <div class="coupon-card glass" id="coupon-2" onclick="toggleCoupon(2)">
      <div class="coupon-check" id="coupon-check-2">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"><polyline points="20 6 9 17 4 12"/></svg>
      </div>
      <div class="coupon-body">
        <div class="coupon-emoji">&#127869;</div>
        <div class="coupon-title">Make Me a Meal and Bring It to Me</div>
        <div class="coupon-desc">Brad cooks Katy a meal of her choice and serves it to her wherever she is.</div>
      </div>
      <div class="coupon-redeemed-badge">Redeemed</div>
    </div>

    <div class="coupon-card glass" id="coupon-3" onclick="toggleCoupon(3)">
      <div class="coupon-check" id="coupon-check-3">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"><polyline points="20 6 9 17 4 12"/></svg>
      </div>
      <div class="coupon-body">
        <div class="coupon-emoji">&#128170;</div>
        <div class="coupon-title">You Have to Deal With This, No Matter What</div>
        <div class="coupon-desc">Brad has to handle whatever Katy needs &#8212; no excuses, no delays, no complaints.</div>
      </div>
      <div class="coupon-redeemed-badge">Redeemed</div>
    </div>

    <div class="coupon-fine-print">
      Valid through 2026 &#8226; Redeemable by Katy, honored by Brad &#10084;&#65039;
    </div>

    <div class="footer">
      Made with &#10084;&#65039; for the love of my life
    </div>

  </div>

  <!-- ‚ïê‚ïê‚ïê‚ïê SCAVENGER HUNT PAGE ‚ïê‚ïê‚ïê‚ïê -->
  <div class="page" id="page-hunt">

    <div class="hunt-intro glass">
      <span class="hunt-intro-icon">&#128270;</span>
      <p class="hunt-intro-text">
        Solve each riddle to unlock the next clue. Brad will be there to help if you get stuck! Your Valentine&#8217;s gift awaits at the end. &#10084;&#65039;
      </p>
    </div>

    <div class="hunt-progress" id="huntProgress">Clue 1 of 8</div>
    <div class="hunt-progress-bar"><div class="hunt-progress-fill" id="huntProgressFill"></div></div>

    <div style="margin-top:18px">

      <div class="hunt-clue glass" id="hunt-0" onclick="solveClue(0)">
        <div class="hunt-clue-check" id="hunt-check-0">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"><polyline points="20 6 9 17 4 12"/></svg>
        </div>
        <div class="hunt-clue-body">
          <div class="hunt-clue-number">Clue 1</div>
          <div class="hunt-clue-text">&#8220;I&#8217;m the only reason Brad&#8217;s still married. Without me, you&#8217;d have committed justifiable homicide years ago. I transform hell into tolerable, one ritual at a time.&#8221;</div>
        </div>
      </div>

      <div class="hunt-clue glass locked" id="hunt-1" onclick="solveClue(1)">
        <div class="hunt-clue-check" id="hunt-check-1">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"><polyline points="20 6 9 17 4 12"/></svg>
        </div>
        <div class="hunt-clue-body">
          <div class="hunt-clue-number">Clue 2</div>
          <div class="hunt-clue-text">&#8220;I&#8217;m the homewrecker who lives in your house. You feed me regularly and I repay you with theft. My victims vanish without a trace and you just&#8230; keep using me anyway.&#8221;</div>
        </div>
        <span class="hunt-clue-lock">&#128274;</span>
      </div>

      <div class="hunt-clue glass locked" id="hunt-2" onclick="solveClue(2)">
        <div class="hunt-clue-check" id="hunt-check-2">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"><polyline points="20 6 9 17 4 12"/></svg>
        </div>
        <div class="hunt-clue-body">
          <div class="hunt-clue-number">Clue 3</div>
          <div class="hunt-clue-text">&#8220;I&#8217;m a morgue that hums constantly. Your optimism dies here in transparent coffins while I pretend not to notice. I preserve corpses but can&#8217;t save good intentions.&#8221;</div>
        </div>
        <span class="hunt-clue-lock">&#128274;</span>
      </div>

      <div class="hunt-clue glass locked" id="hunt-3" onclick="solveClue(3)">
        <div class="hunt-clue-check" id="hunt-check-3">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"><polyline points="20 6 9 17 4 12"/></svg>
        </div>
        <div class="hunt-clue-body">
          <div class="hunt-clue-number">Clue 4</div>
          <div class="hunt-clue-text">&#8220;I tell the truth but show it backwards. Shatter me for seven years of misery. I&#8217;ve witnessed your naked confidence more times than Brad has&#8212;and I never complain about the view.&#8221;</div>
        </div>
        <span class="hunt-clue-lock">&#128274;</span>
      </div>

      <div class="hunt-clue glass locked" id="hunt-4" onclick="solveClue(4)">
        <div class="hunt-clue-check" id="hunt-check-4">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"><polyline points="20 6 9 17 4 12"/></svg>
        </div>
        <div class="hunt-clue-body">
          <div class="hunt-clue-number">Clue 5</div>
          <div class="hunt-clue-text">&#8220;Our warranty expired after incident number two. I&#8217;ve survived earthquakes that had nothing to do with geology. Physics met passion here repeatedly&#8212;physics lost every time.&#8221;</div>
        </div>
        <span class="hunt-clue-lock">&#128274;</span>
      </div>

      <div class="hunt-clue glass locked" id="hunt-5" onclick="solveClue(5)">
        <div class="hunt-clue-check" id="hunt-check-5">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"><polyline points="20 6 9 17 4 12"/></svg>
        </div>
        <div class="hunt-clue-body">
          <div class="hunt-clue-number">Clue 6</div>
          <div class="hunt-clue-text">&#8220;I&#8217;m a monument to masculine delusion. Three levels of &#8216;someday&#8217; collecting dust beside tools of abandoned ambition. The graveyard where projects go to feel less alone.&#8221;</div>
        </div>
        <span class="hunt-clue-lock">&#128274;</span>
      </div>

      <div class="hunt-clue glass locked" id="hunt-6" onclick="solveClue(6)">
        <div class="hunt-clue-check" id="hunt-check-6">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"><polyline points="20 6 9 17 4 12"/></svg>
        </div>
        <div class="hunt-clue-body">
          <div class="hunt-clue-number">Clue 7</div>
          <div class="hunt-clue-text">&#8220;I&#8217;m the guardian between your sanctuary and the world&#8217;s chaos. I swing both ways without shame. My highest point conceals secrets my lowest point could never imagine.&#8221;</div>
        </div>
        <span class="hunt-clue-lock">&#128274;</span>
      </div>

      <div class="hunt-clue glass locked" id="hunt-7" onclick="solveClue(7)">
        <div class="hunt-clue-check" id="hunt-check-7">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"><polyline points="20 6 9 17 4 12"/></svg>
        </div>
        <div class="hunt-clue-body">
          <div class="hunt-clue-number">Clue 8</div>
          <div class="hunt-clue-text">&#8220;I&#8217;m enslaved to ancient decomposed forests. My heart pumps 2000 times per minute when Brad&#8217;s impatient. I bleed when wounded and scream when violated. Your treasure waits in my hollow core.&#8221;</div>
        </div>
        <span class="hunt-clue-lock">&#128274;</span>
      </div>

    </div>

    <div class="hunt-complete glass" id="huntComplete">
      <span class="hunt-complete-icon">&#128157;</span>
      <div class="hunt-complete-title">Congratulations!</div>
      <p class="hunt-complete-text">You solved them all! Now go claim your prize! &#128157;</p>
    </div>

    <div class="footer">
      Made with &#10084;&#65039; for the love of my life
    </div>

  </div>

  <!-- ‚ïê‚ïê‚ïê‚ïê POEMS PAGE ‚ïê‚ïê‚ïê‚ïê -->
  <div class="page" id="page-poems">

    <div class="poem-viewer" id="poemViewer">
      <div class="poem-track" id="poemTrack">

        <!-- Poem 1 -->
        <div class="poem-page">
          <div class="poem-number">Poem 1 of 10</div>
          <div class="poem-title">How Do I Love Thee?</div>
          <div class="poem-author">Elizabeth Barrett Browning</div>
          <div class="poem-body">
<span class="stanza">How do I love thee? Let me count the ways.
I love thee to the depth and breadth and height
My soul can reach, when feeling out of sight
For the ends of being and ideal grace.</span>
<span class="stanza">I love thee to the level of every day's
Most quiet need, by sun and candle-light.
I love thee freely, as men strive for right.
I love thee purely, as they turn from praise.</span>
<span class="stanza">I love thee with the passion put to use
In my old griefs, and with my childhood's faith.
I love thee with a love I seemed to lose
With my lost saints. I love thee with the breath,
Smiles, tears, of all my life; and, if God choose,
I shall but love thee better after death.</span>
          </div>
        </div>

        <!-- Poem 2 -->
        <div class="poem-page">
          <div class="poem-number">Poem 2 of 10</div>
          <div class="poem-title">Sonnet 116</div>
          <div class="poem-author">William Shakespeare</div>
          <div class="poem-body">
<span class="stanza">Let me not to the marriage of true minds
Admit impediments. Love is not love
Which alters when it alteration finds,
Or bends with the remover to remove.</span>
<span class="stanza">O no! it is an ever-fixed mark
That looks on tempests and is never shaken;
It is the star to every wand'ring bark,
Whose worth's unknown, although his height be taken.</span>
<span class="stanza">Love's not Time's fool, though rosy lips and cheeks
Within his bending sickle's compass come;
Love alters not with his brief hours and weeks,
But bears it out even to the edge of doom.</span>
<span class="stanza">If this be error and upon me prov'd,
I never writ, nor no man ever lov'd.</span>
          </div>
        </div>

        <!-- Poem 3 -->
        <div class="poem-page">
          <div class="poem-number">Poem 3 of 10</div>
          <div class="poem-title">She Walks in Beauty</div>
          <div class="poem-author">Lord Byron</div>
          <div class="poem-body">
<span class="stanza">She walks in beauty, like the night
Of cloudless climes and starry skies;
And all that's best of dark and bright
Meet in her aspect and her eyes;
Thus mellowed to that tender light
Which heaven to gaudy day denies.</span>
<span class="stanza">One shade the more, one ray the less,
Had half impaired the nameless grace
Which waves in every raven tress,
Or softly lightens o'er her face;
Where thoughts serenely sweet express,
How pure, how dear their dwelling-place.</span>
<span class="stanza">And on that cheek, and o'er that brow,
So soft, so calm, yet eloquent,
The smiles that win, the tints that glow,
But tell of days in goodness spent,
A mind at peace with all below,
A heart whose love is innocent!</span>
          </div>
        </div>

        <!-- Poem 4 -->
        <div class="poem-page">
          <div class="poem-number">Poem 4 of 10</div>
          <div class="poem-title">i carry your heart with me</div>
          <div class="poem-author">E.E. Cummings</div>
          <div class="poem-body">
<span class="stanza">i carry your heart with me(i carry it in
my heart)i am never without it(anywhere
i go you go,my dear;and whatever is done
by only me is your doing,my darling)</span>
<span class="stanza">i fear no fate(for you are my fate,my sweet)i want
no world(for beautiful you are my world,my true)
and it's you are whatever a moon has always meant
and whatever a sun will always sing is you</span>
<span class="stanza">here is the deepest secret nobody knows
(here is the root of the root and the bud of the bud
and the sky of the sky of a tree called life;which grows
higher than soul can hope or mind can hide)
and this is the wonder that's keeping the stars apart</span>
<span class="stanza">i carry your heart(i carry it in my heart)</span>
          </div>
        </div>

        <!-- Poem 5 -->
        <div class="poem-page">
          <div class="poem-number">Poem 5 of 10</div>
          <div class="poem-title">Love's Philosophy</div>
          <div class="poem-author">Percy Bysshe Shelley</div>
          <div class="poem-body">
<span class="stanza">The fountains mingle with the river
And the rivers with the ocean,
The winds of heaven mix for ever
With a sweet emotion;
Nothing in the world is single;
All things by a law divine
In one spirit meet and mingle.
Why not I with thine?&#8212;</span>
<span class="stanza">See the mountains kiss high heaven
And the waves clasp one another;
No sister-flower would be forgiven
If it disdained its brother;
And the sunlight clasps the earth
And the moonbeams kiss the sea:
What is all this sweet work worth
If thou kiss not me?</span>
          </div>
        </div>

        <!-- Poem 6 -->
        <div class="poem-page">
          <div class="poem-number">Poem 6 of 10</div>
          <div class="poem-title">A Red, Red Rose</div>
          <div class="poem-author">Robert Burns</div>
          <div class="poem-body">
<span class="stanza">O my Luve is like a red, red rose
That's newly sprung in June;
O my Luve is like the melody
That's sweetly played in tune.</span>
<span class="stanza">So fair art thou, my bonnie lass,
So deep in luve am I;
And I will luve thee still, my dear,
Till a' the seas gang dry.</span>
<span class="stanza">Till a' the seas gang dry, my dear,
And the rocks melt wi' the sun;
I will luve thee still, my dear,
While the sands o' life shall run.</span>
<span class="stanza">And fare thee weel, my only luve!
And fare thee weel awhile!
And I will come again, my luve,
Though it were ten thousand mile.</span>
          </div>
        </div>

        <!-- Poem 7 -->
        <div class="poem-page">
          <div class="poem-number">Poem 7 of 10</div>
          <div class="poem-title">Wild Nights</div>
          <div class="poem-author">Emily Dickinson</div>
          <div class="poem-body">
<span class="stanza">Wild Nights &#8212; Wild Nights!
Were I with thee
Wild Nights should be
Our luxury!</span>
<span class="stanza">Futile &#8212; the winds &#8212;
To a Heart in port &#8212;
Done with the Compass &#8212;
Done with the Chart!</span>
<span class="stanza">Rowing in Eden &#8212;
Ah, the Sea!
Might I but moor &#8212; tonight &#8212;
In thee!</span>
          </div>
        </div>

        <!-- Poem 8 -->
        <div class="poem-page">
          <div class="poem-number">Poem 8 of 10</div>
          <div class="poem-title">When You Are Old</div>
          <div class="poem-author">W.B. Yeats</div>
          <div class="poem-body">
<span class="stanza">When you are old and grey and full of sleep,
And nodding by the fire, take down this book,
And slowly read, and dream of the soft look
Your eyes had once, and of their shadows deep;</span>
<span class="stanza">How many loved your moments of glad grace,
And loved your beauty with love false or true,
But one man loved the pilgrim soul in you,
And loved the sorrows of your changing face;</span>
<span class="stanza">And bending down beside the glowing bars,
Murmur, a little sadly, how Love fled
And paced upon the mountains overhead
And hid his face amid a crowd of stars.</span>
          </div>
        </div>

        <!-- Poem 9 -->
        <div class="poem-page">
          <div class="poem-number">Poem 9 of 10</div>
          <div class="poem-title">To My Dear and Loving Husband</div>
          <div class="poem-author">Anne Bradstreet</div>
          <div class="poem-body">
<span class="stanza">If ever two were one, then surely we.
If ever man were loved by wife, then thee;
If ever wife was happy in a man,
Compare with me, ye women, if you can.</span>
<span class="stanza">I prize thy love more than whole mines of gold
Or all the riches that the East doth hold.
My love is such that rivers cannot quench,
Nor ought but love from thee, give recompense.</span>
<span class="stanza">Thy love is such I can no way repay,
The heavens reward thee manifold, I pray.
Then while we live, in love let's so persevere
That when we live no more, we may live ever.</span>
          </div>
        </div>

        <!-- Poem 10 -->
        <div class="poem-page">
          <div class="poem-number">Poem 10 of 10</div>
          <div class="poem-title">The Passionate Shepherd to His Love</div>
          <div class="poem-author">Christopher Marlowe</div>
          <div class="poem-body">
<span class="stanza">Come live with me and be my love,
And we will all the pleasures prove
That valleys, groves, hills, and fields,
Woods, or steepy mountain yields.</span>
<span class="stanza">And we will sit upon the rocks,
Seeing the shepherds feed their flocks,
By shallow rivers to whose falls
Melodious birds sing madrigals.</span>
<span class="stanza">And I will make thee beds of roses
And a thousand fragrant posies,
A cap of flowers, and a kirtle
Embroidered all with leaves of myrtle;</span>
<span class="stanza">A gown made of the finest wool
Which from our pretty lambs we pull;
Fair lined slippers for the cold,
With buckles of the purest gold;</span>
<span class="stanza">A belt of straw and ivy buds,
With coral clasps and amber studs:
And if these pleasures may thee move,
Come live with me, and be my love.</span>
          </div>
        </div>

      </div>
    </div>

    <!-- Poem navigation -->
    <div class="poem-nav">
      <button class="poem-arrow" id="poemPrev" onclick="prevPoem()">&#8249;</button>
      <span class="poem-counter" id="poemCounter">1 / 10</span>
      <button class="poem-arrow" id="poemNext" onclick="nextPoem()">&#8250;</button>
    </div>
    <div class="poem-dots" id="poemDots"></div>

    <div class="footer">
      Made with &#10084;&#65039; for the love of my life
    </div>

  </div>

</div>

<audio id="bgMusic" preload="auto">
  <source src="/static/my-home.mp3" type="audio/mpeg">
</audio>

<!-- Daily reminder -->
<div class="daily-overlay" id="dailyOverlay">
  <div class="daily-card">
    <span class="daily-icon">&#128149;</span>
    <p class="daily-text">Remember, your husband loves you dearly&#8212;even when it doesn&#8217;t show &#10084;&#65039;</p>
    <button class="daily-dismiss" onclick="dismissDaily()">I know &#128149;</button>
  </div>
</div>

<!-- Tap-to-play overlay -->
<div class="tap-overlay" id="tapOverlay">
  <div class="tap-content">
    <div class="tap-heart">&#128157;</div>
    <div class="tap-text">Tap anywhere to begin</div>
    <div class="tap-sub">A Valentine's surprise for you &#10084;&#65039;</div>
  </div>
</div>

<script>
  // ‚îÄ‚îÄ Floating Hearts ‚îÄ‚îÄ
  const heartsContainer = document.getElementById("heartsContainer");
  const heartChars = ["\u2764\uFE0F", "\uD83D\uDC95", "\uD83D\uDC97", "\uD83D\uDC96", "\uD83D\uDC9D", "\uD83E\uDE77", "\u2665"];

  function spawnHeart() {
    const heart = document.createElement("div");
    heart.className = "heart";
    heart.textContent = heartChars[Math.floor(Math.random() * heartChars.length)];
    heart.style.left = Math.random() * 100 + "%";
    heart.style.fontSize = (14 + Math.random() * 18) + "px";
    heart.style.animationDuration = (8 + Math.random() * 12) + "s";
    heart.style.animationDelay = Math.random() * 2 + "s";
    heartsContainer.appendChild(heart);
    setTimeout(() => heart.remove(), 22000);
  }

  for (let i = 0; i < 12; i++) setTimeout(spawnHeart, i * 400);
  setInterval(spawnHeart, 1800);

  // ‚îÄ‚îÄ Page Navigation ‚îÄ‚îÄ
  const pageNames = ["home", "sexy", "coupons", "hunt", "poems"];
  function showPage(name) {
    document.querySelectorAll(".page").forEach(p => p.classList.remove("active"));
    document.getElementById("page-" + name).classList.add("active");
    document.querySelectorAll(".nav-tab").forEach((t, i) => {
      t.classList.toggle("active", pageNames[i] === name);
    });
    window.scrollTo({ top: 0, behavior: "smooth" });
  }

  // ‚îÄ‚îÄ Photo Gallery (Swipeable) ‚îÄ‚îÄ
  const track = document.getElementById("galleryTrack");
  const dots = document.querySelectorAll(".gallery-dot");
  const totalSlides = 4;
  let currentSlide = 0;
  let startX = 0, currentX = 0, isDragging = false;

  function updateGallery(animate = true) {
    if (!animate) track.classList.add("dragging");
    else track.classList.remove("dragging");
    track.style.transform = `translateX(-${currentSlide * 100}%)`;
    dots.forEach((d, i) => d.classList.toggle("active", i === currentSlide));
  }

  function nextSlide() {
    currentSlide = (currentSlide + 1) % totalSlides;
    updateGallery();
  }

  function prevSlide() {
    currentSlide = (currentSlide - 1 + totalSlides) % totalSlides;
    updateGallery();
  }

  function goToSlide(n) {
    currentSlide = n;
    updateGallery();
  }

  const gallery = document.getElementById("gallery");

  gallery.addEventListener("touchstart", (e) => {
    startX = e.touches[0].clientX;
    isDragging = true;
    track.classList.add("dragging");
  }, { passive: true });

  gallery.addEventListener("touchmove", (e) => {
    if (!isDragging) return;
    currentX = e.touches[0].clientX;
    const diff = currentX - startX;
    const offset = -(currentSlide * gallery.offsetWidth) + diff;
    track.style.transform = `translateX(${offset}px)`;
  }, { passive: true });

  gallery.addEventListener("touchend", () => {
    if (!isDragging) return;
    isDragging = false;
    const diff = currentX - startX;
    if (Math.abs(diff) > 50) {
      if (diff < 0 && currentSlide < totalSlides - 1) currentSlide++;
      else if (diff > 0 && currentSlide > 0) currentSlide--;
    }
    currentX = 0;
    updateGallery(true);
  });

  let galleryTimer = setInterval(nextSlide, 5000);
  gallery.addEventListener("touchstart", () => { clearInterval(galleryTimer); }, { passive: true });
  gallery.addEventListener("touchend", () => {
    galleryTimer = setInterval(nextSlide, 5000);
  });

  // ‚îÄ‚îÄ Sexy Gallery (Swipeable) ‚îÄ‚îÄ
  const sexyTrack = document.getElementById("sexyTrack");
  const sexyGallery = document.getElementById("sexyGallery");
  const sexyDotsContainer = document.getElementById("sexyDots");
  const totalSexy = 11;
  let currentSexy = 0;
  let sexyStartX = 0, sexyCurrentX = 0, sexyDragging = false;

  // Build sexy dots
  for (let i = 0; i < totalSexy; i++) {
    const dot = document.createElement("div");
    dot.className = "gallery-dot" + (i === 0 ? " active" : "");
    dot.onclick = () => goToSexy(i);
    sexyDotsContainer.appendChild(dot);
  }

  function updateSexyGallery(animate = true) {
    if (!animate) sexyTrack.classList.add("dragging");
    else sexyTrack.classList.remove("dragging");
    sexyTrack.style.transform = `translateX(-${currentSexy * 100}%)`;
    sexyDotsContainer.querySelectorAll(".gallery-dot").forEach((d, i) => {
      d.classList.toggle("active", i === currentSexy);
    });
  }

  function nextSexy() {
    currentSexy = (currentSexy + 1) % totalSexy;
    updateSexyGallery();
  }

  function prevSexy() {
    currentSexy = (currentSexy - 1 + totalSexy) % totalSexy;
    updateSexyGallery();
  }

  function goToSexy(n) {
    currentSexy = n;
    updateSexyGallery();
  }

  sexyGallery.addEventListener("touchstart", (e) => {
    sexyStartX = e.touches[0].clientX;
    sexyDragging = true;
    sexyTrack.classList.add("dragging");
  }, { passive: true });

  sexyGallery.addEventListener("touchmove", (e) => {
    if (!sexyDragging) return;
    sexyCurrentX = e.touches[0].clientX;
    const diff = sexyCurrentX - sexyStartX;
    const offset = -(currentSexy * sexyGallery.offsetWidth) + diff;
    sexyTrack.style.transform = `translateX(${offset}px)`;
  }, { passive: true });

  sexyGallery.addEventListener("touchend", () => {
    if (!sexyDragging) return;
    sexyDragging = false;
    const diff = sexyCurrentX - sexyStartX;
    if (Math.abs(diff) > 50) {
      if (diff < 0 && currentSexy < totalSexy - 1) currentSexy++;
      else if (diff > 0 && currentSexy > 0) currentSexy--;
    }
    sexyCurrentX = 0;
    updateSexyGallery(true);
  });

  let sexyTimer = setInterval(nextSexy, 5000);
  sexyGallery.addEventListener("touchstart", () => { clearInterval(sexyTimer); }, { passive: true });
  sexyGallery.addEventListener("touchend", () => {
    sexyTimer = setInterval(nextSexy, 5000);
  });

  // ‚îÄ‚îÄ Poem Viewer (Swipeable) ‚îÄ‚îÄ
  const poemTrack = document.getElementById("poemTrack");
  const poemViewer = document.getElementById("poemViewer");
  const poemCounter = document.getElementById("poemCounter");
  const poemPrev = document.getElementById("poemPrev");
  const poemNext = document.getElementById("poemNext");
  const poemDotsContainer = document.getElementById("poemDots");
  const totalPoems = 10;
  let currentPoem = 0;
  let poemStartX = 0, poemCurrentX = 0, poemDragging = false;

  // Build poem dots
  for (let i = 0; i < totalPoems; i++) {
    const dot = document.createElement("div");
    dot.className = "poem-dot" + (i === 0 ? " active" : "");
    dot.onclick = () => goToPoem(i);
    poemDotsContainer.appendChild(dot);
  }

  function updatePoemUI() {
    poemTrack.classList.remove("dragging");
    poemTrack.style.transform = `translateX(-${currentPoem * 100}%)`;
    poemCounter.textContent = `${currentPoem + 1} / ${totalPoems}`;
    poemPrev.disabled = currentPoem === 0;
    poemNext.disabled = currentPoem === totalPoems - 1;
    poemDotsContainer.querySelectorAll(".poem-dot").forEach((d, i) => {
      d.classList.toggle("active", i === currentPoem);
    });
  }

  function nextPoem() {
    if (currentPoem < totalPoems - 1) { currentPoem++; updatePoemUI(); }
  }

  function prevPoem() {
    if (currentPoem > 0) { currentPoem--; updatePoemUI(); }
  }

  function goToPoem(n) {
    currentPoem = n;
    updatePoemUI();
  }

  // Poem touch swipe
  poemViewer.addEventListener("touchstart", (e) => {
    poemStartX = e.touches[0].clientX;
    poemDragging = true;
    poemTrack.classList.add("dragging");
  }, { passive: true });

  poemViewer.addEventListener("touchmove", (e) => {
    if (!poemDragging) return;
    poemCurrentX = e.touches[0].clientX;
    const diff = poemCurrentX - poemStartX;
    const offset = -(currentPoem * poemViewer.offsetWidth) + diff;
    poemTrack.style.transform = `translateX(${offset}px)`;
  }, { passive: true });

  poemViewer.addEventListener("touchend", () => {
    if (!poemDragging) return;
    poemDragging = false;
    const diff = poemCurrentX - poemStartX;
    if (Math.abs(diff) > 50) {
      if (diff < 0 && currentPoem < totalPoems - 1) currentPoem++;
      else if (diff > 0 && currentPoem > 0) currentPoem--;
    }
    poemCurrentX = 0;
    updatePoemUI();
  });

  // ‚îÄ‚îÄ Music Player (Playlist) ‚îÄ‚îÄ
  const playlist = [
    { src: "/static/my-home.mp3", title: "My Home", artist: "Myles Smith" },
    { src: "/static/a-thousand-years.mp3", title: "A Thousand Years", artist: "Christina Perri" },
    { src: "/static/too-sweet.mp3", title: "Too Sweet", artist: "Hozier" }
  ];
  let currentTrack = 0;

  const audio = document.getElementById("bgMusic");
  const musicBtn = document.getElementById("musicBtn");
  const playIcon = document.getElementById("playIcon");
  const pauseIcon = document.getElementById("pauseIcon");
  const progressFill = document.getElementById("progressFill");
  const currentTimeEl = document.getElementById("currentTime");
  const totalTimeEl = document.getElementById("totalTime");
  const visualizer = document.getElementById("visualizer");
  const tapOverlay = document.getElementById("tapOverlay");
  const musicTitle = document.getElementById("musicTitle");
  const musicArtist = document.getElementById("musicArtist");
  let isPlaying = false;

  function updateTrackUI() {
    const t = playlist[currentTrack];
    musicTitle.innerHTML = t.title + " &#8212; " + t.artist + ' <span class="music-note">&#9834;</span>';
    musicArtist.innerHTML = "Song " + (currentTrack + 1) + " of " + playlist.length + " &#128149;";
  }

  function loadTrack(index, autoplay) {
    currentTrack = index;
    audio.src = playlist[index].src;
    audio.load();
    updateTrackUI();
    if (autoplay) {
      audio.play().then(() => setPlayingUI()).catch(() => {});
    }
  }

  function formatTime(s) {
    if (isNaN(s) || s < 0) return "0:00";
    const m = Math.floor(s / 60);
    const sec = Math.floor(s % 60);
    return m + ":" + (sec < 10 ? "0" : "") + sec;
  }

  function setPlayingUI() {
    isPlaying = true;
    playIcon.style.display = "none";
    pauseIcon.style.display = "";
    musicBtn.classList.add("playing");
    visualizer.classList.remove("paused");
    tapOverlay.classList.add("hidden");
  }

  function setPausedUI() {
    isPlaying = false;
    playIcon.style.display = "";
    pauseIcon.style.display = "none";
    musicBtn.classList.remove("playing");
    visualizer.classList.add("paused");
  }

  tapOverlay.addEventListener("click", () => {
    audio.play().then(() => setPlayingUI()).catch(() => {});
    tapOverlay.classList.add("hidden");
  });

  function toggleMusic() {
    if (isPlaying) {
      audio.pause();
      setPausedUI();
    } else {
      audio.play().then(() => setPlayingUI()).catch(() => {});
    }
  }

  function seekMusic(e) {
    if (!audio.duration) return;
    const rect = e.currentTarget.getBoundingClientRect();
    const pct = (e.clientX - rect.left) / rect.width;
    audio.currentTime = pct * audio.duration;
  }

  audio.addEventListener("timeupdate", () => {
    if (audio.duration) {
      progressFill.style.width = (audio.currentTime / audio.duration * 100) + "%";
      currentTimeEl.textContent = formatTime(audio.currentTime);
    }
  });

  audio.addEventListener("loadedmetadata", () => {
    totalTimeEl.textContent = formatTime(audio.duration);
  });

  // When a song ends, play the next one (loop back to first after last)
  audio.addEventListener("ended", () => {
    const next = (currentTrack + 1) % playlist.length;
    loadTrack(next, true);
  });

  // ‚îÄ‚îÄ Love Coupons ‚îÄ‚îÄ
  const COUPON_KEY = "valentine-coupons-redeemed";

  function loadCoupons() {
    try {
      const saved = JSON.parse(localStorage.getItem(COUPON_KEY) || "[]");
      saved.forEach(id => {
        const card = document.getElementById("coupon-" + id);
        if (card) card.classList.add("redeemed");
      });
    } catch(e) {}
  }

  function saveCoupons() {
    const redeemed = [];
    document.querySelectorAll(".coupon-card.redeemed").forEach(card => {
      redeemed.push(parseInt(card.id.replace("coupon-", "")));
    });
    localStorage.setItem(COUPON_KEY, JSON.stringify(redeemed));
  }

  function toggleCoupon(id) {
    const card = document.getElementById("coupon-" + id);
    card.classList.toggle("redeemed");
    saveCoupons();
  }

  loadCoupons();

  // ‚îÄ‚îÄ Scavenger Hunt ‚îÄ‚îÄ
  const HUNT_KEY = "valentine-hunt-solved";
  const TOTAL_CLUES = 8;

  function loadHunt() {
    try {
      const saved = JSON.parse(localStorage.getItem(HUNT_KEY) || "[]");
      saved.forEach(id => {
        const clue = document.getElementById("hunt-" + id);
        if (clue) clue.classList.add("solved");
      });
      // Unlock clues based on solved state
      for (let i = 0; i < TOTAL_CLUES; i++) {
        const clue = document.getElementById("hunt-" + i);
        if (i === 0 || document.getElementById("hunt-" + (i - 1)).classList.contains("solved")) {
          clue.classList.remove("locked");
          const lock = clue.querySelector(".hunt-clue-lock");
          if (lock) lock.style.display = "none";
        }
      }
      updateHuntUI();
    } catch(e) {}
  }

  function saveHunt() {
    const solved = [];
    document.querySelectorAll(".hunt-clue.solved").forEach(el => {
      solved.push(parseInt(el.id.replace("hunt-", "")));
    });
    localStorage.setItem(HUNT_KEY, JSON.stringify(solved));
  }

  function updateHuntUI() {
    const solvedCount = document.querySelectorAll(".hunt-clue.solved").length;
    const progress = document.getElementById("huntProgress");
    const fill = document.getElementById("huntProgressFill");
    const complete = document.getElementById("huntComplete");

    if (solvedCount >= TOTAL_CLUES) {
      progress.textContent = "All 8 clues solved!";
      fill.style.width = "100%";
      complete.classList.add("visible");
    } else {
      progress.textContent = `Clue ${solvedCount + 1} of ${TOTAL_CLUES}`;
      fill.style.width = (solvedCount / TOTAL_CLUES * 100) + "%";
      complete.classList.remove("visible");
    }
  }

  function solveClue(id) {
    const clue = document.getElementById("hunt-" + id);
    if (clue.classList.contains("locked") || clue.classList.contains("solved")) return;

    clue.classList.add("solved");

    // Unlock next clue
    const next = document.getElementById("hunt-" + (id + 1));
    if (next) {
      next.classList.remove("locked");
      const lock = next.querySelector(".hunt-clue-lock");
      if (lock) lock.style.display = "none";
    }

    saveHunt();
    updateHuntUI();
  }

  loadHunt();

  // ‚îÄ‚îÄ Daily Reminder ‚îÄ‚îÄ
  const DAILY_KEY = "valentine-daily-reminder";

  function showDailyReminder() {
    const today = new Date().toDateString();
    if (localStorage.getItem(DAILY_KEY) === today) return;
    // Show after tap overlay is dismissed (1.5s delay)
    setTimeout(() => {
      document.getElementById("dailyOverlay").classList.add("visible");
    }, 1500);
  }

  function dismissDaily() {
    localStorage.setItem(DAILY_KEY, new Date().toDateString());
    document.getElementById("dailyOverlay").classList.remove("visible");
  }

  showDailyReminder();

  // ‚îÄ‚îÄ Service Worker ‚îÄ‚îÄ
  if ("serviceWorker" in navigator) {
    navigator.serviceWorker.register("/static/sw.js");
  }
</script>
</body>
</html>
